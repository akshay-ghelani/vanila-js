<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>crud application</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

</head>
<body>
    <div class="container">
        <main>
            <div class="input-group mt-5 mb-3">
                <input type="text" id="chapter_input" class="form-control" placeholder="chapter name" aria-label="Recipient's username" aria-describedby="button-addon2">
                <div class="input-group-append">
                  <button  class="btn btn-success" type="button" id="add_btn">Button</button>
                </div>
              </div>
              <ul id="paretList" class="list-group">
                <li class="list-group-item">
                    <h3>An item </h3>
                    <button class="btn btn-warning" onclick="editChapter(this)">edit</button>
                    <button class="btn btn-danger" onclick="removeChapter(this)">remove</button>
                </li>
              
              </ul>
              
        </main>

    </div>
    <script>
        //     let currentBtn = e.currentTarget;
        //     let currentInput = currentBtn.previousElementSibling;
        //      // Check if an input was found
        // if (currentInput) {
            //     console.log(currentInput.value);
            // } else {
                //     console.log("No previous input found.");
                // }

                // creaeteelement method throug


        //         let addBtn =document.getElementById('add_btn');
        //         addBtn.addEventListener('click', addChapter)
        //         function addChapter(e){

        //     let inputField = document.getElementById('chapter_input'); // Get input directly
        //     let inputValue = inputField.value.trim(); // Get trim value
        //     if (inputValue) {
        //         console.log(inputValue); // Log input value
        //         inputField.value = ''; // Clear input after logging

        //         let newLi = document.createElement('li');
        //          newLi.classList.add('list-group-item');
        //         newLi.textContent = inputValue;
        
        //         let paretList = document.getElementById("paretList");
        //          paretList.appendChild(newLi);

        //     } else {
        //         console.log("Input is empty!");
        //     }

        // }


        // inner html method 
                let addBtn =document.getElementById('add_btn');
                addBtn.addEventListener('click', addChapter)
                let paretList = document.getElementById("paretList");
                function addChapter(e){
                    if(paretList.children[0].className == "emptyMsg"){
                        paretList.children[0].remove()
                    }
            let inputField = document.getElementById('chapter_input'); // Get input directly
            let inputValue = inputField.value.trim(); // Get trim value
            if (inputValue) {
                console.log(inputValue); // Log input value
                inputField.value = ''; // Clear input after logging


                let newLi = document.createElement('li');
                //  newLi.classList.add('list-group-item');
                newLi.className = "list-group-item"
                newLi.innerHTML =  `
                <h3>${inputValue}</h3>
                <div>
                    <button class="btn btn-warning btn-sm" onclick="editChapter(this)">edit</button>
                    <button class="btn btn-danger btn-sm" onclick="removeChapter(this)">Remove</button>
                </div>
            `;
        
                
                 paretList.appendChild(newLi);

            } else {
                console.log("Input is empty!");
            }

        }

        function removeChapter(currElement){

            currElement.parentElement.remove()
            if(paretList.children.length <=0){
                let newEmptyMsg = document.createElement("h3")
                newEmptyMsg.classList.add("emptyMsg")
                newEmptyMsg.textContent= "nothing is here";
                paretList.appendChild(newEmptyMsg)
            }
        }

        function editChapter(curreditElement){
            if(curreditElement.textContent == "done"){
                    curreditElement.textContent ="edit";
                    let currChapterName = curreditElement.parentElement.children[0].value
                    let currHeding = document.createElement('h3');
                    currHeding.className="list-group-item";
                    currHeding.textContent= currChapterName;
                    curreditElement.parentElement.replaceChild(currHeding, curreditElement.parentElement.children[0])


            }else{
                curreditElement.textContent = "done"

                console.log(curreditElement.parentElement.children[0])
                let currChapterName = curreditElement.parentElement.children[0].textContent;
                let currInput =document.createElement("input");
                currInput.type ="text";
                currInput.className="form-control"
                currInput.placeholder = "chapter name"
                currInput.value = currChapterName;
                curreditElement.parentElement.replaceChild(currInput, curreditElement.parentElement.children[0])
            }


        }
    </script>

</body>
</html>